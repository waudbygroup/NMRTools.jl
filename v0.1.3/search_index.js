var documenterSearchIndex = {"docs":
[{"location":"examples/#Examples-1","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"examples/#Loading-and-plotting-a-1D-spectrum-1","page":"Examples","title":"Loading and plotting a 1D spectrum","text":"","category":"section"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Load in some example data, in NMRPipe format","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"using NMRTools, Plots;\nspec = loadnmr(\"../../exampledata/1D_19F/1/test.ft1\")","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"and then plot it","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"plot(spec);\nsavefig(\"plot-y.svg\"); nothing # hide","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Zoom in on a particular region using a Between selector","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"plot(spec[Between(-123,-124.5)]);\nsavefig(\"plot-y2.svg\"); nothing # hide","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#A-quick-look-at-spectrum-metadata-1","page":"Examples","title":"A quick look at spectrum metadata","text":"","category":"section"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Access metadata associated with the spectrum","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"label(spec)\nmetadata(spec) |> keys\nmetadata(spec, :pulseprogram)\nmetadata(spec, :ns)","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"and with the axis itself (this can be specified numerically as the first dimension, or by the object F1Dim)","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"label(spec, 1)\nmetadata(spec, 1) |> keys\nmetadata(spec, F1Dim, :swppm)\nmetadata(spec, 1, :offsetppm)","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"This includes information on the window function, indicating in this case the line broadening applied (in Hz) and the acquisition time (in s)","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"metadata(spec, F1Dim, :window)","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Help is available on metadata entries","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"metadatahelp()\nmetadatahelp(:rg)","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Acquisition parameters are easily accessible (reference using lowercase symbols). Individual values can be accessed from arrayed values likes pulses or delays.","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"acqus(y, :p, 1)\nacqus(y, :d, 1)\nacqus(y, :te)","category":"page"},{"location":"examples/#Overlaying-multiple-1D-spectra-1","page":"Examples","title":"Overlaying multiple 1D spectra","text":"","category":"section"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Load and plot multiple 1D spectra from a list of filenames","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"using NMRTools, Plots;\nfilenames = [\"../../exampledata/1D_19F_titration/1/test.ft1\",\n            \"../../exampledata/1D_19F_titration/2/test.ft1\",\n            \"../../exampledata/1D_19F_titration/3/test.ft1\",\n            \"../../exampledata/1D_19F_titration/4/test.ft1\",\n            \"../../exampledata/1D_19F_titration/5/test.ft1\",\n            \"../../exampledata/1D_19F_titration/6/test.ft1\",\n            \"../../exampledata/1D_19F_titration/7/test.ft1\",\n            \"../../exampledata/1D_19F_titration/8/test.ft1\",\n            \"../../exampledata/1D_19F_titration/9/test.ft1\",\n            \"../../exampledata/1D_19F_titration/10/test.ft1\",\n            \"../../exampledata/1D_19F_titration/11/test.ft1\"];\nspectra = [loadnmr(filename) for filename in filenames];\nplot(spectra);\nsavefig(\"plot-1Ds.svg\"); nothing # hide","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Legends are produced from the first line of the spectrum title file (which in this example is not particularly informative!). The legend can be disabled using the legend=nothing option. Stacked views can also be produced using the vstack=true option. By default, spectra are normalized according to the number of scans and receiver gain determined automatically from the spectrum metadata; this can be disabled with the normalize=false option","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"plot(spectra, vstack=true, normalize=false, legend=nothing);\nsavefig(\"plot-1Ds-stack.svg\"); nothing # hide","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#Loading-and-plotting-a-2D-spectrum-1","page":"Examples","title":"Loading and plotting a 2D spectrum","text":"","category":"section"},{"location":"examples/#","page":"Examples","title":"Examples","text":"using NMRTools, Plots;\nspec = loadnmr(\"../../exampledata/2D_HN/1/test.ft2\")\nplot(spec);\nsavefig(\"plot-2d.svg\"); nothing # hide","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#Accessing-raw-spectrum-data-1","page":"Examples","title":"Accessing raw spectrum data","text":"","category":"section"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Spectrum data and associated axis information, metadata, etc, is encapsulated in an NMRData object. Raw arrays of data for the spectrum and axes can be obtained from this using the data command.","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"data(spec)\ndata(dims(spec,1))\ndata(dims(spec,2))","category":"page"},{"location":"examples/#Overlaying-multiple-2D-spectra-1","page":"Examples","title":"Overlaying multiple 2D spectra","text":"","category":"section"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Multiple 2D spectra can be loaded and overlaid in a similar manner to 1Ds","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"using NMRTools, Plots;\nfilenames  = [\"../../exampledata/2D_HN_titration/1/test.ft2\",\n              \"../../exampledata/2D_HN_titration/2/test.ft2\",\n              \"../../exampledata/2D_HN_titration/3/test.ft2\",\n              \"../../exampledata/2D_HN_titration/4/test.ft2\",\n              \"../../exampledata/2D_HN_titration/5/test.ft2\",\n              \"../../exampledata/2D_HN_titration/6/test.ft2\",\n              \"../../exampledata/2D_HN_titration/7/test.ft2\",\n              \"../../exampledata/2D_HN_titration/8/test.ft2\",\n              \"../../exampledata/2D_HN_titration/9/test.ft2\",\n              \"../../exampledata/2D_HN_titration/10/test.ft2\",\n              \"../../exampledata/2D_HN_titration/11/test.ft2\"];\nspectra = [loadnmr(filename) for filename in filenames];\nplot(spectra);\nsavefig(\"plot-2Ds.svg\"); nothing # hide","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Adjust the plot limits with the usual xlims! and ylims! commands","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"xlims!(8,9.5);\nylims!(112,118);\nsavefig(\"plot-2Ds-zoom.svg\"); nothing # hide","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"<!– ## Analysis of pseudo-2D diffusion data","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Load in an example pseudo-2D dataset","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"using NMRTools, Plots;\nspec = loadnmr(\"../../exampledata/pseudo2D_XSTE/test.ft1\")","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"As this is a pseudo-2D, set the values for this axis using settval. In this case, values are set to ten points equally spaced from 5% to 95%, representing the relative gradient strength used in the experiment","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"spec = settval(spec, LinRange(0.05, 0.95, 10));\nwireframe(spec);\nsavefig(\"plot-diff.svg\"); nothing # hide","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"Fit the integral of signals from 7.5 to 9 ppm to the Stejskal-Tanner equation using fitdiffusion in order to determine the diffusion coefficient","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"rH, D = fitdiffusion(spec, Between(7.5,9), T=283)\nsavefig(\"plot-diff-fit.svg\"); nothing # hide","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"(Image: )","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"An estimate of the hydrodynamic radius is determined based on the viscosity of pure water at the specified temperature (default 298 K). Default values for gradient pulse length, δ, and strength, Gmax, and the diffusion delay, Δ, can be altered using the full form of the command","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"fitdiffusion(spec, selector; δ=0.004, Δ=0.1, σ=0.9, Gmax=0.55, solvent=:h2o, T=298, showplot=true)","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"–>","category":"page"},{"location":"examples/#Saving-plots-1","page":"Examples","title":"Saving plots","text":"","category":"section"},{"location":"examples/#","page":"Examples","title":"Examples","text":"All plots can be saved as high quality vector graphics, or as png files, using the savefig command","category":"page"},{"location":"examples/#","page":"Examples","title":"Examples","text":"savefig(\"myspectrum.pdf\")\nsavefig(\"myspectrum.svd\")\nsavefig(\"myspectrum.png\")","category":"page"},{"location":"#NMRTools.jl-1","page":"Home","title":"NMRTools.jl","text":"","category":"section"},{"location":"#","page":"Home","title":"Home","text":"NMRTools.jl is a simple library for importing and plotting NMR data. Documentation is incomplete and interested users are recommended to check out the Examples.","category":"page"},{"location":"#","page":"Home","title":"Home","text":"note: Note\nThis package is under active development and it may be a while before its features and syntax stabilises.","category":"page"},{"location":"#","page":"Home","title":"Home","text":"","category":"page"},{"location":"#","page":"Home","title":"Home","text":"Modules = [NMRTools]","category":"page"},{"location":"metadata/#Metadata-1","page":"Metadata","title":"Metadata","text":"","category":"section"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"NMRData objects contain comprehensive metadata on processing and acquisition parameters that are populated automatically upon loading a spectrum. Entries are divided into spectrum metadata - associated with the experiment in general - and axis metadata, that are associated with a particular dimension of the data.","category":"page"},{"location":"metadata/#Accessing-spectrum-metadata-1","page":"Metadata","title":"Accessing spectrum metadata","text":"","category":"section"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"Metadata entries are labelled by symbols such as :ns or :pulseprogram. See below for a list of all available symbols. Entries can be accessed using the metadata function, or directly as a dictionary-style lookup","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"using NMRTools; # hide\nspec = loadnmr(\"../../exampledata/2D_HN/1/test.ft2\"); # hide\nmetadata(spec, :ns)\nspec[:ns]\nmetadata(spec, :title)\nspec[:title]","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"Help on metadata symbols is available","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"metadatahelp(:td)","category":"page"},{"location":"metadata/#Accessing-axis-metadata-1","page":"Metadata","title":"Accessing axis metadata","text":"","category":"section"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"Axis metadata can be accessed by providing an addition axis label, i.e. F1Dim, F2Dim.","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"metadata(spec, F1Dim, :label)\nspec[F1Dim, :label]\nspec[1, :label]\nmetadata(spec, F2Dim, :label)\nspec[F2Dim, :label]\nspec[2, :label]","category":"page"},{"location":"metadata/#Accessing-acquisition-parameters-1","page":"Metadata","title":"Accessing acquisition parameters","text":"","category":"section"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"Spectrometer acquisition parameters are automatically parsed from the acqus file when data are loaded. This is stored as a dictionary in the :acqus entry of the spectrum metadata, but can more conveniently be accessed through the convenience function acqus(spec, :parametername). Note that parameter names are not case sensitive.","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"acqus(spec, :bf1)\nacqus(spec, :te)","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"Arrayed parameters such as pulse lengths can be accessed as lists or by supplying an additional index parameter","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"acqus(spec, :p)\nacqus(spec, :p, 1)\nacqus(spec, :cnst, 4)","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"note: Note\nLists of parameters are returned as zero-based arrays (in contrast to typical Julia arrays, which are unit-based) to match Bruker naming conventions","category":"page"},{"location":"metadata/#Auxiliary-files-1","page":"Metadata","title":"Auxiliary files","text":"","category":"section"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"If present, files such as vclist and vdlist are imported and can be accessed through the acqus function","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"pseudo3dspec = loadnmr(\"../../exampledata/pseudo3D_HN_R2/ft/test%03d.ft2\"); # hide\npseudo3dspec[:label] # hide\nacqus(pseudo3dspec, :vclist)","category":"page"},{"location":"metadata/#Available-spectrum-metadata-symbols-1","page":"Metadata","title":"Available spectrum metadata symbols","text":"","category":"section"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"symbol description\n:filename original filename or template\n:format :NMRPipe or :bruker\n:title contents of pdata/1/title\n:label first line of title, used for captions\n:pulseprogram pulse program (PULPROG) from acqus file\n:ndim number of dimensions\n:acqusfilename path to associated acqus file\n:acqus dictionary of acqus data\n:ns number of scans\n:rg receiver gain\n:noise rms noise level","category":"page"},{"location":"metadata/#Available-axis-metadata-symbols-1","page":"Metadata","title":"Available axis metadata symbols","text":"","category":"section"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"symbol description\n:pseudodim flag indicating non-frequency domain data\n:npoints final number of (real) data points in dimension (after extraction)\n:td number of complex points acquired\n:tdzf number of complex points when FT executed, including LP and ZF\n:bf base frequency, in MHz\n:sf carrier frequency, in MHz\n:offsethz carrier offset from bf, in Hz\n:offsetppm carrier offset from bf, in ppm\n:swhz spectrum width, in Hz\n:swppm spectrum width, in ppm\n:region extracted region, expressed as a range in points, otherwise missing\n:window WindowFunction object indicating applied apodization","category":"page"},{"location":"metadata/#Window-functions-1","page":"Metadata","title":"Window functions","text":"","category":"section"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"Window functions are represented by subtypes of the abstract type WindowFunction, each of which contain appropriate parameters to specify the particular function applied. In addition, the acquisition time t_max is also stored (calculated at the point of application, i.e. after linear prediction but before zero filling).","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"Available window functions:","category":"page"},{"location":"metadata/#","page":"Metadata","title":"Metadata","text":"NullWindow(tmax): no window function applied\nUnknownWindow(tmax): unrecognised window function\nExponentialWindow(lb, tmax): line broadening specified in Hz\nSineWindow(offset, endpoint, power, tmax): a supertype encompassing some special cases\nCosWindow(tmax): apodization by a pure half-cosine window\nCos²Window(tmax): apodization by a pure half-cosine-squared window\nGeneralSineWindow(offset, endpoint, power, tmax): other general cases\nGaussWindow(expHz, gaussHz, center, tmax): a supertype encompassing some special cases\nLorentzToGaussWindow(expHz, gaussHz, tmax)\nGeneralGaussWindow(expHz, gaussHz, center, tmax): other general cases","category":"page"}]
}
