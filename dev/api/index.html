<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · NMRTools.jl</title><meta name="title" content="API · NMRTools.jl"/><meta property="og:title" content="API · NMRTools.jl"/><meta property="twitter:title" content="API · NMRTools.jl"/><meta name="description" content="Documentation for NMRTools.jl."/><meta property="og:description" content="Documentation for NMRTools.jl."/><meta property="twitter:description" content="Documentation for NMRTools.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="NMRTools.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">NMRTools.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../quickstart/">Getting started</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../tutorial-data/">Working with NMR data</a></li><li><a class="tocitem" href="../tutorial-plotrecipes/">Plotting</a></li><li><a class="tocitem" href="../tutorial-peaks/">Peak detection</a></li><li><a class="tocitem" href="../tutorial-metadata/">Metadata</a></li><li><a class="tocitem" href="../tutorial-animation/">Animating spectra</a></li><li><a class="tocitem" href="../tutorial-relaxation/">1D relaxation analysis</a></li><li><a class="tocitem" href="../tutorial-diffusion/">Diffusion analysis</a></li></ul></li><li><span class="tocitem">Metadata</span><ul><li><a class="tocitem" href="../metadata/">Overview</a></li><li><a class="tocitem" href="../metadata-timeunits/">Times and frequencies</a></li><li><a class="tocitem" href="../metadata-power/">Power levels</a></li><li><a class="tocitem" href="../metadata-fqlists/">Frequency lists</a></li><li><a class="tocitem" href="../metadata-windows/">Window functions</a></li><li><a class="tocitem" href="../metadata-samples/">Sample metadata</a></li></ul></li><li><a class="tocitem" href="../utilities/">Utilities</a></li><li><span class="tocitem">Reference guide</span><ul><li><a class="tocitem" href="../ref-referencing/">Chemical shift referencing</a></li><li><a class="tocitem" href="../ref-metadata/">Metadata</a></li><li><a class="tocitem" href="../ref-annotations/">Annotations</a></li><li><a class="tocitem" href="../ref-coherences/">Coherences and isotope data</a></li></ul></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#NMRBase"><span>NMRBase</span></a></li><li><a class="tocitem" href="#NMRIO"><span>NMRIO</span></a></li></ul></li><li><a class="tocitem" href="../indexes/">Index</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/waudbygroup/NMRTools.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/waudbygroup/NMRTools.jl/blob/main/docs/src/api.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="NMRBase"><a class="docs-heading-anchor" href="#NMRBase">NMRBase</a><a id="NMRBase-1"></a><a class="docs-heading-anchor-permalink" href="#NMRBase" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.AbstractNMRData"><a class="docstring-binding" href="#NMRTools.NMRBase.AbstractNMRData"><code>NMRTools.NMRBase.AbstractNMRData</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">AbstractNMRData &lt;: DimensionalData.AbstractDimArray</code></pre><p>Abstract supertype for objects that wrap an array of NMR data, and metadata about its contents.</p><p><code>AbstractNMRData</code>s inherit from <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.AbstractDimensionalArray"><code>AbstractDimArray</code></a> from DimensionalData.jl. They can be indexed as regular Julia arrays or with DimensionalData.jl <a href="https://rafaqz.github.io/DimensionalData.jl/stable/api/#DimensionalData.Dimension"><code>Dimension</code></a>s.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L1-L10">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.Coherence"><a class="docstring-binding" href="#NMRTools.NMRBase.Coherence"><code>NMRTools.NMRBase.Coherence</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Coherence</code></pre><p>Abstract supertype for representing coherences.</p><p>See also <a href="#NMRTools.NMRBase.SQ"><code>SQ</code></a>, <a href="#NMRTools.NMRBase.MQ"><code>MQ</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/coherences.jl#L1-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.ComplexLineshape"><a class="docstring-binding" href="#NMRTools.NMRBase.ComplexLineshape"><code>NMRTools.NMRBase.ComplexLineshape</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ComplexLineshape</code></pre><p>Return a complex-valued lineshape when used in calculations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L157-L161">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.CosWindow"><a class="docstring-binding" href="#NMRTools.NMRBase.CosWindow"><code>NMRTools.NMRBase.CosWindow</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">CosWindow(tmax)</code></pre><p>Apodization by a pure cosine function. Acquisition time is <code>tmax</code>.</p><p>See also <a href="#NMRTools.NMRBase.Cos²Window"><code>Cos²Window</code></a>, <a href="#NMRTools.NMRBase.SineWindow"><code>SineWindow</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L85-L91">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.Cos²Window"><a class="docstring-binding" href="#NMRTools.NMRBase.Cos²Window"><code>NMRTools.NMRBase.Cos²Window</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Cos²Window(tmax)</code></pre><p>Apodization by a pure cosine squared function. Acquisition time is <code>tmax</code>.</p><p>See also <a href="#NMRTools.NMRBase.CosWindow"><code>CosWindow</code></a>, <a href="#NMRTools.NMRBase.SineWindow"><code>SineWindow</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L96-L102">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.ExponentialWindow"><a class="docstring-binding" href="#NMRTools.NMRBase.ExponentialWindow"><code>NMRTools.NMRBase.ExponentialWindow</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">ExponentialWindow(lb, tmax)</code></pre><p>Exponential window function, with a line broadening of <code>lb</code> Hz. Acquisition time is <code>tmax</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L36-L40">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.FieldDimension"><a class="docstring-binding" href="#NMRTools.NMRBase.FieldDimension"><code>NMRTools.NMRBase.FieldDimension</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">FieldDimension &lt;: NonFrequencyDimension &lt;: NMRDimension</code></pre><p>Abstract supertype for RF field strength dimensions used in NMRData objects. Used for spinlock power in R1rho dispersion experiments. Concrete type <code>SpinlockDim</code> is generated for use in creating objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L71-L77">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.FrequencyDimension"><a class="docstring-binding" href="#NMRTools.NMRBase.FrequencyDimension"><code>NMRTools.NMRBase.FrequencyDimension</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">FrequencyDimension &lt;: NMRDimension</code></pre><p>Abstract supertype for frequency dimensions used in NMRData objects. Concrete types <code>F1Dim</code>, <code>F2Dim</code>, <code>F3Dim</code> and <code>F4Dim</code> are generated for use in creating objects.</p><p>See also <a href="#NMRTools.NMRBase.NonFrequencyDimension"><code>NonFrequencyDimension</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L10-L18">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.GaussWindow"><a class="docstring-binding" href="#NMRTools.NMRBase.GaussWindow"><code>NMRTools.NMRBase.GaussWindow</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">GaussWindow(expHz, gaussHz, center, tmax)</code></pre><p>Abstract representation of Lorentz-to-Gauss window functions, applying an inverse exponential of <code>expHz</code> Hz, and a gaussian broadening of <code>gaussHz</code> Hz, with maximum at <code>center</code> (between 0 and 1). Acquisition time is <code>tmax</code>.</p><p>Specialises to <code>LorentzToGaussWindow</code> when <code>center</code> is zero, otherwise <code>GeneralGaussWindow</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L107-L115">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.GradientDimension"><a class="docstring-binding" href="#NMRTools.NMRBase.GradientDimension"><code>NMRTools.NMRBase.GradientDimension</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">GradientDimension &lt;: NonFrequencyDimension &lt;: NMRDimension</code></pre><p>Abstract supertype for gradient-encoded dimensions used in NMRData objects. Concrete types <code>G1Dim</code>, <code>G2Dim</code>, <code>G3Dim</code> and <code>G4Dim</code> are generated for use in creating objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L53-L59">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.HasNonFrequencyDimension"><a class="docstring-binding" href="#NMRTools.NMRBase.HasNonFrequencyDimension"><code>NMRTools.NMRBase.HasNonFrequencyDimension</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">@traitdef HasNonFrequencyDimension{D}</code></pre><p>A trait indicating whether the data object has a non-frequency domain dimension.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">@traitfn f(x::X) where {X; HasNonFrequencyDimension{X}} = &quot;This spectrum has a non-frequency domain dimension!&quot;
@traitfn f(x::X) where {X; SimpleTraits.Not{HasNonFrequencyDimension{X}}} = &quot;This is a pure frequency-domain spectrum!&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L460-L471">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.LineshapeComplexity"><a class="docstring-binding" href="#NMRTools.NMRBase.LineshapeComplexity"><code>NMRTools.NMRBase.LineshapeComplexity</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">LineshapeComplexity</code></pre><p>Abstract type to specify calculation of <code>RealLineshape</code> or <code>ComplexLineshape</code> in function calls.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L143-L147">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.MQ"><a class="docstring-binding" href="#NMRTools.NMRBase.MQ"><code>NMRTools.NMRBase.MQ</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">MQ(coherences, label==&quot;&quot;)</code></pre><p>Representation of a multiple-quantum coherence. Coherences are specified as a tuple of tuples, of the form <code>(nucleus, coherenceorder)</code></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; MQ(((H1,1), (C13,-1)), &quot;ZQ&quot;)
MQ(((H1, 1), (C13, -1)), &quot;ZQ&quot;)

julia&gt; MQ(((H1,3), (C13,1)), &quot;QQ&quot;)
MQ(((H1, 3), (C13, 1)), &quot;QQ&quot;)</code></pre><p>See also <a href="#NMRTools.NMRBase.Nucleus"><code>Nucleus</code></a>, <a href="#NMRTools.NMRBase.SQ"><code>SQ</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/coherences.jl#L23-L39">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.NMRData"><a class="docstring-binding" href="#NMRTools.NMRBase.NMRData"><code>NMRTools.NMRBase.NMRData</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NMRData &lt;: AbstractNMRData
NMRData(A::AbstractArray{T,N}, dims; kw...)
NMRData(A::AbstractNMRData; kw...)</code></pre><p>A generic <a href="#NMRTools.NMRBase.AbstractNMRData"><code>AbstractNMRData</code></a> for NMR array data. It holds memory-backed arrays.</p><p><strong>Keywords</strong></p><ul><li><code>dims</code>: <code>Tuple</code> of <code>NMRDimension</code>s for the array.</li><li><code>name</code>: <code>Symbol</code> name for the array, which will also retreive named layers if <code>NMRData</code>   is used on a multi-layered file like a NetCDF.</li><li><code>missingval</code>: value representing missing data, normally detected from the file. Set manually   when you know the value is not specified or is incorrect. This will <em>not</em> change any   values in the NMRData, it simply assigns which value is treated as missing.</li></ul><p><strong>Internal Keywords</strong></p><p>In some cases it is possible to set these keywords as well.</p><ul><li><p><code>data</code>: can replace the data in an <code>AbstractNMRData</code></p></li><li><p><code>refdims</code>: <code>Tuple of</code> position <code>Dimension</code>s the array was sliced from, defaulting to <code>()</code>.</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L71-L94">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.NMRDimension"><a class="docstring-binding" href="#NMRTools.NMRBase.NMRDimension"><code>NMRTools.NMRBase.NMRDimension</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NMRDimension</code></pre><p>Abstract supertype for all axes used in NMRData objects.</p><p>See also <a href="#NMRTools.NMRBase.FrequencyDimension"><code>FrequencyDimension</code></a> and <a href="#NMRTools.NMRBase.NonFrequencyDimension"><code>NonFrequencyDimension</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L1-L7">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.NMRToolsError"><a class="docstring-binding" href="#NMRTools.NMRBase.NMRToolsError"><code>NMRTools.NMRBase.NMRToolsError</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NMRToolsError(message)</code></pre><p>An error arising in NMRTools.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/exceptions.jl#L1-L5">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.NonFrequencyDimension"><a class="docstring-binding" href="#NMRTools.NMRBase.NonFrequencyDimension"><code>NMRTools.NMRBase.NonFrequencyDimension</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NonFrequencyDimension &lt;: NMRDimension</code></pre><p>Abstract supertype for non-frequency dimensions used in NMRData objects. Sub-types include <a href="#NMRTools.NMRBase.TimeDimension"><code>TimeDimension</code></a>, <a href="#NMRTools.NMRBase.GradientDimension"><code>GradientDimension</code></a>,  and <a href="#NMRTools.NMRBase.UnknownDimension"><code>UnknownDimension</code></a>.</p><p>See also <a href="#NMRTools.NMRBase.FrequencyDimension"><code>FrequencyDimension</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L21-L29">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.Nucleus"><a class="docstring-binding" href="#NMRTools.NMRBase.Nucleus"><code>NMRTools.NMRBase.Nucleus</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Nucleus</code></pre><p>Enumeration of common nuclei associated with biomolecular NMR. Nuclei are named e.g. <code>H1</code>, <code>C13</code>.</p><p>Defined nuclei: <code>H1</code>, <code>H2</code>, <code>C12</code>, <code>C13</code>, <code>N14</code>, <code>N15</code>, <code>F19</code>, <code>P31</code>.</p><p>See also <a href="#NMRTools.NMRBase.spin-Tuple{Nucleus}"><code>spin</code></a>, <a href="#NMRTools.NMRBase.gyromagneticratio"><code>gyromagneticratio</code></a>, <a href="#NMRTools.NMRBase.Coherence"><code>Coherence</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nuclei.jl#L1-L9">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.NullWindow"><a class="docstring-binding" href="#NMRTools.NMRBase.NullWindow"><code>NMRTools.NMRBase.NullWindow</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">NullWindow(tmax)</code></pre><p>No apodization applied. Acquisition time is <code>tmax</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L16-L20">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.OffsetDimension"><a class="docstring-binding" href="#NMRTools.NMRBase.OffsetDimension"><code>NMRTools.NMRBase.OffsetDimension</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">OffsetDimension &lt;: NonFrequencyDimension &lt;: NMRDimension</code></pre><p>Abstract supertype for frequency offset dimensions used in NMRData objects. Used for CEST saturation offsets, R1rho off-resonance offsets, etc. Concrete type <code>OffsetDim</code> is generated for use in creating objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L62-L68">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.Power"><a class="docstring-binding" href="#NMRTools.NMRBase.Power"><code>NMRTools.NMRBase.Power</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">Power{T}</code></pre><p>A type to represent NMR pulse powers that can be described either in Watts (W) or as dB attenuation (dB). Internally stores the dB value as type <code>T</code>.</p><p><strong>Constructors</strong></p><ul><li><code>Power(value, :dB)</code> - Create from dB attenuation value</li><li><code>Power(value, :W)</code> - Create from Watts value</li></ul><p><strong>Getters</strong></p><ul><li><code>db(p::Power)</code> - Get dB attenuation value</li><li><code>watts(p::Power)</code> - Get Watts value</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Create power from dB attenuation
p1 = Power(30.0, :dB)
db(p1)    # 30.0
watts(p1) # 0.001

# Create power from Watts
p2 = Power(0.5, :W)
watts(p2) # 0.5
db(p2)    # ≈ 3.01

# Works with integers and other numeric types
p3 = Power(10, :W)
db(p3)    # -10.0

# Zero watts is represented as 120 dB attenuation
p4 = Power(0.0, :W)
db(p4)    # 120.0</code></pre><p><strong>Conversion</strong></p><p>Converting W to dB: -10 * log10(plW) Converting dB to W: 10^(-dB/10)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/power.jl#L1-L39">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.RealLineshape"><a class="docstring-binding" href="#NMRTools.NMRBase.RealLineshape"><code>NMRTools.NMRBase.RealLineshape</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">RealLineshape</code></pre><p>Return a real-valued lineshape when used in calculations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L150-L154">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.SQ"><a class="docstring-binding" href="#NMRTools.NMRBase.SQ"><code>NMRTools.NMRBase.SQ</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SQ(nucleus::Nucleus, label==&quot;&quot;)</code></pre><p>Representation of a single quantum coherence on a given nucleus.</p><p>See also <a href="#NMRTools.NMRBase.Nucleus"><code>Nucleus</code></a>, <a href="#NMRTools.NMRBase.MQ"><code>MQ</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/coherences.jl#L10-L16">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.SineWindow"><a class="docstring-binding" href="#NMRTools.NMRBase.SineWindow"><code>NMRTools.NMRBase.SineWindow</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">SineWindow(offset, endpoint, power, tmax)</code></pre><p>Abstract window function representing multiplication by sine/cosine functions. Acquisition time is <code>tmax</code>.</p><p class="math-container">\[\left[\sin\left(
    \pi\cdot\mathrm{offset} +
    \frac{\left(\mathrm{end} - \mathrm{offset}\right)\pi t}{\mathrm{tmax}}
    \right)\right]^\mathrm{power}\]</p><p>Specialises to <code>CosWindow</code>, <code>Cos²Window</code> or <code>GeneralSineWindow</code>.</p><p><strong>Arguments</strong></p><ul><li><code>offset</code>: initial value is <span>$\sin(\mathrm{offset}\cdot\pi)$</span> (0 to 1)</li><li><code>endpoint</code>: initial value is <span>$\sin(\mathrm{endpoint}\cdot\pi)$</span> (0 to 1)</li><li><code>pow</code>: sine exponent</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L47-L65">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.TimeDimension"><a class="docstring-binding" href="#NMRTools.NMRBase.TimeDimension"><code>NMRTools.NMRBase.TimeDimension</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">TimeDimension &lt;: NonFrequencyDimension &lt;: NMRDimension</code></pre><p>Abstract supertype for time dimensions used in NMRData objects. Concrete types <code>T1Dim</code>, <code>T2Dim</code>, <code>T3Dim</code> and <code>T4Dim</code> are generated for time-domains representing frequency evolution, and <code>TrelaxDim</code> and <code>TkinDim</code> are generated for representing relaxation and real-time kinetics.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L32-L40">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.UnknownDimension"><a class="docstring-binding" href="#NMRTools.NMRBase.UnknownDimension"><code>NMRTools.NMRBase.UnknownDimension</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">UnknownDimension &lt;: NonFrequencyDimension &lt;: NMRDimension</code></pre><p>Abstract supertype for unknown, non-frequency dimensions used in NMRData objects. Concrete types <code>X1Dim</code>, <code>X2Dim</code>, <code>X3Dim</code> and <code>X4Dim</code> are generated for use in creating objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L44-L50">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.UnknownWindow"><a class="docstring-binding" href="#NMRTools.NMRBase.UnknownWindow"><code>NMRTools.NMRBase.UnknownWindow</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">UnknownWindow(tmax)</code></pre><p>Unknown apodization applied. Acquisition time is <code>tmax</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L26-L30">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.WindowFunction"><a class="docstring-binding" href="#NMRTools.NMRBase.WindowFunction"><code>NMRTools.NMRBase.WindowFunction</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">WindowFunction</code></pre><p>Abstract type to represent apodization functions.</p><p>Window functions are represented by subtypes of the abstract type <code>WindowFunction</code>, each of which contain appropriate parameters to specify the particular function applied. In addition, the acquisition time <code>tmax</code> is also stored (calculated at the point the window function is applied, i.e. after linear prediction but before zero filling).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L1-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="Base.stack-Union{Tuple{Vector{D}}, Tuple{D}, Tuple{N}, Tuple{T}} where {T, N, D&lt;:(AbstractNMRData{T, N})}"><a class="docstring-binding" href="#Base.stack-Union{Tuple{Vector{D}}, Tuple{D}, Tuple{N}, Tuple{T}} where {T, N, D&lt;:(AbstractNMRData{T, N})}"><code>Base.stack</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">stack(expts::Vector{NMRData})</code></pre><p>Combine a collection of equally-sized NMRData into one larger array, by arranging them along a new dimension, of type <code>UnknownDimension</code>.</p><p>Throws a <code>DimensionMismatch</code> if data are not of compatible shapes.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L381-L388">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DimensionalData.Dimensions.Lookups.metadata"><a class="docstring-binding" href="#DimensionalData.Dimensions.Lookups.metadata"><code>DimensionalData.Dimensions.Lookups.metadata</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">metadata(nmrdata, key)
metadata(nmrdata, dim, key)
metadata(nmrdimension, key)</code></pre><p>Return the metadata for specified key, or <code>nothing</code> if not found. Keys are passed as symbols.</p><p><strong>Examples (spectrum metadata)</strong></p><ul><li><code>:ns</code>: number of scans</li><li><code>:ds</code>: number of dummy scans</li><li><code>:rg</code>: receiver gain</li><li><code>:ndim</code>: number of dimensions</li><li><code>:title</code>: spectrum title (contents of title pdata file)</li><li><code>:filename</code>: spectrum filename</li><li><code>:pulseprogram</code>: title of pulse program used for acquisition</li><li><code>:experimentfolder</code>: path to experiment</li><li><code>:noise</code>: RMS noise level</li></ul><p><strong>Examples (dimension metadata)</strong></p><ul><li><code>:pseudodim</code>: flag indicating non-frequency domain data</li><li><code>:npoints</code>: final number of (real) data points in dimension (after extraction)</li><li><code>:td</code>: number of complex points acquired</li><li><code>:tdzf</code>: number of complex points when FT executed, including LP and ZF</li><li><code>:bf</code>: base frequency, in Hz</li><li><code>:sf</code>: carrier frequency, in Hz</li><li><code>:offsethz</code>: carrier offset from bf, in Hz</li><li><code>:offsetppm</code>: carrier offset from bf, in ppm</li><li><code>:swhz</code>: spectrum width, in Hz</li><li><code>:swppm</code>: spectrum width, in ppm</li><li><code>:region</code>: extracted region, expressed as a range in points, otherwise missing</li><li><code>:window</code>: <code>WindowFunction</code> indicating applied apodization</li><li><code>:referenceoffset</code>: referencing (in ppm) applied to the dimension</li></ul><p>See also <a href="#NMRTools.NMRBase.estimatenoise-Tuple{NMRData}"><code>estimatenoise</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/metadata.jl#L9-L43">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DimensionalData.Dimensions.Lookups.units"><a class="docstring-binding" href="#DimensionalData.Dimensions.Lookups.units"><code>DimensionalData.Dimensions.Lookups.units</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">units(nmrdata)
units(nmrdata, dim)
units(nmrdimension)</code></pre><p>Return the physical units associated with an <code>NMRData</code> structure or an <code>NMRDimension</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/metadata.jl#L60-L66">source</a></section></details></article><article><details class="docstring" open="true"><summary id="DimensionalData.Dimensions.label"><a class="docstring-binding" href="#DimensionalData.Dimensions.label"><code>DimensionalData.Dimensions.label</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">label(nmrdata)
label(nmrdata, dim)
label(nmrdimension)</code></pre><p>Return a short label associated with an <code>NMRData</code> structure or an <code>NMRDimension</code>. By default, for a spectrum this is obtained from the first line of the title file. For a frequency dimension, this is normally something of the form <code>1H chemical shift (ppm)</code>.</p><p>See also <a href="#NMRTools.NMRBase.label!"><code>label!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/metadata.jl#L72-L82">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase._apply_indirect_referencing-Tuple{Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRBase._apply_indirect_referencing-Tuple{Any, Any}"><code>NMRTools.NMRBase._apply_indirect_referencing</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_apply_indirect_referencing(spec, referenced_dims; aqueous=:auto)</code></pre><p>Apply indirect referencing using Xi ratios to all frequency dimensions not in referenced_dims.</p><p>The effective 1H frequency is back-calculated from the referenced dimension(s), and Xi ratios are used to calculate the expected frequencies for other nuclei.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/reference.jl#L224-L231">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase._lineshape"><a class="docstring-binding" href="#NMRTools.NMRBase._lineshape"><code>NMRTools.NMRBase._lineshape</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">_lineshape(ω, R2, ωaxis, window, complexity)</code></pre><p>Internal function to calculate a resonance lineshape with frequency <code>ω</code> and relaxation rate <code>R2</code>, calculated at frequencies <code>ωaxis</code> and with apodization according to the specified window function.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L177-L183">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase._reference_with_offset-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRBase._reference_with_offset-Tuple{Any, Any, Any}"><code>NMRTools.NMRBase._reference_with_offset</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_reference_with_offset(spec, dim_no, offset; indirect=true, aqueous=:auto)</code></pre><p>Internal function to apply a reference offset and optionally indirect referencing.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/reference.jl#L207-L211">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.acqus-Tuple{AbstractNMRData}"><a class="docstring-binding" href="#NMRTools.NMRBase.acqus-Tuple{AbstractNMRData}"><code>NMRTools.NMRBase.acqus</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">acqus(nmrdata)
acqus(nmrdata, key)
acqus(nmrdata, key, index)</code></pre><p>Return data from a Bruker acqus file, or <code>nothing</code> if it does not exist. Keys can be passed as symbols or strings. If no key is specified, a dictionary is returned representing the entire acqus file.</p><p>If present, the contents of auxilliary files such as <code>vclist</code> and <code>vdlist</code> can be accessed using this function.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; acqus(expt, :pulprog)
&quot;zgesgp&quot;
julia&gt; acqus(expt, &quot;TE&quot;)
276.9988
julia&gt; acqus(expt, :p, 1)
9.2
julia&gt; acqus(expt, &quot;D&quot;, 1)
0.1
julia&gt; acqus(expt, :vclist)
11-element Vector{Int64}:
[...]</code></pre><p>See also <a href="#DimensionalData.Dimensions.Lookups.metadata"><code>metadata</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/metadata.jl#L102-L130">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.annotations-Tuple{AbstractNMRData}"><a class="docstring-binding" href="#NMRTools.NMRBase.annotations-Tuple{AbstractNMRData}"><code>NMRTools.NMRBase.annotations</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">annotations(nmrdata)
annotations(nmrdata, key)
annotations(nmrdata, key, index)
annotations(nmrdata, key1, key2)
annotations(nmrdata, keys...)</code></pre><p>Return annotation data from pulse programme, or <code>nothing</code> if it does not exist. Keys can be passed as strings or symbols. If no key is specified, the entire annotations dictionary is returned.</p><p>Dotted names are automatically split and dereferenced, e.g. <code>annotations(spec, &quot;cest.duration&quot;)</code> is equivalent to <code>annotations(spec, &quot;cest&quot;, &quot;duration&quot;)</code>.</p><p>This function provides nested access to annotations stored in <code>metadata[:annotations]</code>. Multiple keys can be chained to access nested dictionaries or specific array elements.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; annotations(spec, &quot;title&quot;)
&quot;19F CEST&quot;

julia&gt; annotations(spec, &quot;dimensions&quot;)
2-element Vector{String}:
 &quot;cest.offset&quot;
 &quot;f1&quot;

julia&gt; annotations(spec, &quot;dimensions&quot;, 1)
&quot;cest.offset&quot;

julia&gt; annotations(spec, &quot;cest&quot;, &quot;duration&quot;)
0.5

julia&gt; annotations(spec, &quot;cest.duration&quot;)
0.5

julia&gt; annotations(spec, :reference_pulse)
1-element Vector{Dict{String, Any}}:
 Dict(&quot;channel&quot; =&gt; &quot;f1&quot;, &quot;pulse&quot; =&gt; 9.2e-6, &quot;power&quot; =&gt; -3.0)

julia&gt; annotations(spec, &quot;calibration.duration.start&quot;)
0.001</code></pre><p>See also <a href="#DimensionalData.Dimensions.Lookups.metadata"><code>metadata</code></a>, <a href="#NMRTools.NMRBase.acqus-Tuple{AbstractNMRData}"><code>acqus</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/metadata.jl#L138-L183">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.apod"><a class="docstring-binding" href="#NMRTools.NMRBase.apod"><code>NMRTools.NMRBase.apod</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">apod(spec::NMRData, dimension, zerofill=true)</code></pre><p>Return the time-domain apodization function for the specified axis, as a vector of values.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L233-L238">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.coherenceorder"><a class="docstring-binding" href="#NMRTools.NMRBase.coherenceorder"><code>NMRTools.NMRBase.coherenceorder</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">coherenceorder(coherence)</code></pre><p>Calculate the total coherence order.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; coherenceorder(SQ(H1))
1

julia&gt; coherenceorder(MQ(((H1,1),(C13,1))))
2

julia&gt; coherenceorder(MQ(((H1,1),(C13,-1))))
0

julia&gt; coherenceorder(MQ(((H1,3),(C13,1))))
4

julia&gt; coherenceorder(MQ(((H1,0),)))
0</code></pre><p>See also <a href="#NMRTools.NMRBase.Nucleus"><code>Nucleus</code></a>, <a href="#NMRTools.NMRBase.SQ"><code>SQ</code></a>, <a href="#NMRTools.NMRBase.MQ"><code>MQ</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/coherences.jl#L46-L69">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.data-Tuple{NMRData, Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.data-Tuple{NMRData, Any}"><code>NMRTools.NMRBase.data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">data(nmrdata, dim)</code></pre><p>Return the numerical data associated with the specified dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L151-L155">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.data-Tuple{NMRData}"><a class="docstring-binding" href="#NMRTools.NMRBase.data-Tuple{NMRData}"><code>NMRTools.NMRBase.data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">data(nmrdata)</code></pre><p>Return the numerical data associated with the specified NMRData.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L144-L148">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.data-Tuple{NMRDimension}"><a class="docstring-binding" href="#NMRTools.NMRBase.data-Tuple{NMRDimension}"><code>NMRTools.NMRBase.data</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">data(nmrdimension)</code></pre><p>Return the numerical data associated with an NMR dimension.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L157-L161">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.db-Tuple{Power}"><a class="docstring-binding" href="#NMRTools.NMRBase.db-Tuple{Power}"><code>NMRTools.NMRBase.db</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">db(p::Power)</code></pre><p>Get the power level in dB attenuation.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">p = Power(20.0, :dB)
db(p)  # 20.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/power.jl#L67-L77">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.decimate"><a class="docstring-binding" href="#NMRTools.NMRBase.decimate"><code>NMRTools.NMRBase.decimate</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">decimate(data, n dims=1)</code></pre><p>Decimate NMR data into n-point averages along the specified dimension. Note that data are <em>averaged</em> and not <em>summed</em>. Noise metadata is not updated.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L341-L346">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.estimatenoise-Tuple{NMRData}"><a class="docstring-binding" href="#NMRTools.NMRBase.estimatenoise-Tuple{NMRData}"><code>NMRTools.NMRBase.estimatenoise</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">estimatenoise(nmrdata) -&gt; NMRData</code></pre><p>Estimate the rms noise level in the data and update <code>:noise</code> metadata. Returns the NMRData object with noise estimate stored in metadata.</p><p>If called on an <code>Array</code> of data, each item will be updated.</p><p><strong>Algorithm</strong></p><p>Data are sorted into numerical order, and the highest and lowest 12.5% of data are discarded (so that 75% of the data remain). These values are then fitted to a truncated gaussian distribution via maximum likelihood analysis.</p><p>The log-likelihood function is:</p><p class="math-container">\[\log L(\mu, \sigma) = \sum_i{\log P(y_i, \mu, \sigma)}\]</p><p>where the likelihood of an individual data point is:</p><p class="math-container">\[\log P(y,\mu,\sigma) =
    \log\frac{
        \phi\left(\frac{x-\mu}{\sigma}\right)
    }{
        \sigma \cdot \left[\Phi\left(\frac{b-\mu}{\sigma}\right) -
            \Phi\left(\frac{a-\mu}{\sigma}\right)\right]}\]</p><p>and <span>$\phi(x)$</span> and <span>$\Phi(x)$</span> are the standard normal pdf and cdf functions.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">spec = loadnmr(&quot;experiment/1/pdata/1&quot;)
spec = estimatenoise(spec)  # Estimate and store noise level
spec[:noise]  # Access the noise estimate</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/noise.jl#L1-L37">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.finddim-Tuple{Any, Nucleus}"><a class="docstring-binding" href="#NMRTools.NMRBase.finddim-Tuple{Any, Nucleus}"><code>NMRTools.NMRBase.finddim</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">finddim(spec, nucleus::Nucleus)</code></pre><p>Find the dimension index in an NMRData object that corresponds to the given nucleus. Returns the dimension index (1-based) or <code>nothing</code> if not found.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">spec = loadnmr(&quot;hsqc.ft2&quot;)
finddim(spec, H1)   # Returns 1 for a 1H-15N HSQC
finddim(spec, N15)  # Returns 2 for a 1H-15N HSQC</code></pre><p>See also <a href="#NMRTools.NMRBase.shiftdim-Tuple{Any, Any, Any}"><code>shiftdim</code></a>, <a href="#NMRTools.NMRBase.reference-Tuple{Any, Any, Any}"><code>reference</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L196-L210">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.gyromagneticratio"><a class="docstring-binding" href="#NMRTools.NMRBase.gyromagneticratio"><code>NMRTools.NMRBase.gyromagneticratio</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">gyromagneticratio(n::Nucleus)
gyromagneticratio(c::Coherence)</code></pre><p>Return the gyromagnetic ratio in Hz/T of a nucleus, or calculate the effective gyromagnetic ratio of a coherence. This is equal to the product of the individual gyromagnetic ratios with their coherence orders.</p><p>Returns <code>nothing</code> if not defined.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; gyromagneticratio(H1)
2.6752218744e8

julia&gt; gyromagneticratio(SQ(H1))
2.6752218744e8

julia&gt; gyromagneticratio(MQ(((H1,1),(C13,1))))
3.3480498744e8

julia&gt; gyromagneticratio(MQ(((H1,0),)))
0.0</code></pre><p>See also <a href="#NMRTools.NMRBase.Nucleus"><code>Nucleus</code></a>, <a href="#NMRTools.NMRBase.Coherence"><code>Coherence</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/isotopedata.jl#L26-L52">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.hasannotations-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.hasannotations-Tuple{Any}"><code>NMRTools.NMRBase.hasannotations</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">hasannotations(nmrdata) -&gt; Bool</code></pre><p>Check if the NMRData object has any annotations.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/metadata.jl#L219-L223">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.hasnonfrequencydimension-Union{Tuple{NMRData{T, N, A, R, A1} where {R&lt;:Tuple, A1&lt;:AbstractArray{T, N}}}, Tuple{A}, Tuple{N}, Tuple{T}} where {T, N, A}"><a class="docstring-binding" href="#NMRTools.NMRBase.hasnonfrequencydimension-Union{Tuple{NMRData{T, N, A, R, A1} where {R&lt;:Tuple, A1&lt;:AbstractArray{T, N}}}, Tuple{A}, Tuple{N}, Tuple{T}} where {T, N, A}"><code>NMRTools.NMRBase.hasnonfrequencydimension</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">hasnonfrequencydimension(spectrum)</code></pre><p>Return true if the spectrum contains a non-frequency domain dimension.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">julia&gt; y2=loadnmr(&quot;exampledata/2D_HN/test.ft2&quot;);
julia&gt; hasnonfrequencydimension(y2)
false
julia&gt; y3=loadnmr(&quot;exampledata/pseudo3D_HN_R2/ft/test%03d.ft2&quot;);
julia&gt; hasnonfrequencydimension(y3)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L488-L503">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.hassample-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.hassample-Tuple{Any}"><code>NMRTools.NMRBase.hassample</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">hassample(nmrdata) -&gt; Bool</code></pre><p>Check if the NMRData object has any associated sample metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/metadata.jl#L288-L292">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.hz-Tuple{FrequencyDimension}"><a class="docstring-binding" href="#NMRTools.NMRBase.hz-Tuple{FrequencyDimension}"><code>NMRTools.NMRBase.hz</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">hz(axis)</code></pre><p>Return the offsets (in Hz) for points along a frequency axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L171-L175">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.hz-Tuple{Power, Power, Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.hz-Tuple{Power, Power, Any, Any}"><code>NMRTools.NMRBase.hz</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">hz(p::Power, ref_p::Power, ref_pulselength, ref_pulseangle_deg)</code></pre><p>Convert power to radiofrequency strength in Hz using reference pulse parameters.</p><p><strong>Arguments</strong></p><ul><li><code>p::Power</code>: Power to convert</li><li><code>ref_p::Power</code>: Reference power</li><li><code>ref_pulselength</code>: Reference pulse length in microseconds</li><li><code>ref_pulseangle_deg</code>: Reference pulse flip angle in degrees</li></ul><p><strong>Returns</strong></p><p>Radiofrequency strength in Hz for power <code>p</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/power.jl#L121-L134">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.hz-Tuple{Power, Power, Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.hz-Tuple{Power, Power, Any}"><code>NMRTools.NMRBase.hz</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">hz(p::Power, ref_p::Power, ref_Hz)</code></pre><p>Convert power to radiofrequency strength in Hz using a reference power and known Hz value.</p><p>Uses the relationship: Hz = ref_Hz * 10^(-ΔdB/20) where ΔdB is the power difference.</p><p><strong>Arguments</strong></p><ul><li><code>p::Power</code>: Power to convert</li><li><code>ref_p::Power</code>: Reference power with known Hz value</li><li><code>ref_Hz</code>: Radiofrequency strength in Hz at the reference power</li></ul><p><strong>Returns</strong></p><p>Radiofrequency strength in Hz for power <code>p</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/power.jl#L101-L115">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.hz-Tuple{Union{Number, AbstractArray{&lt;:Number}}, FrequencyDimension}"><a class="docstring-binding" href="#NMRTools.NMRBase.hz-Tuple{Union{Number, AbstractArray{&lt;:Number}}, FrequencyDimension}"><code>NMRTools.NMRBase.hz</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">hz(δ, axis)</code></pre><p>Return the offset (in Hz) for a chemical shift (or list of shifts) on a frequency axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L187-L191">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.isaqueous-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.isaqueous-Tuple{Any}"><code>NMRTools.NMRBase.isaqueous</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">isaqueous(spec) -&gt; Bool</code></pre><p>Determine whether a spectrum was acquired in an aqueous solvent.</p><p><strong>Arguments</strong></p><ul><li><code>spec</code>: NMRData object</li></ul><p>Checks against the metadata field <code>:solvent</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/reference.jl#L6-L15">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.label!"><a class="docstring-binding" href="#NMRTools.NMRBase.label!"><code>NMRTools.NMRBase.label!</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">label!(nmrdata, labeltext)
label!(nmrdata, dim, labeltext)
label!(nmrdimension, labeltext)</code></pre><p>Set the label associated with an <code>NMRData</code> structure or an <code>NMRDimension</code>.</p><p>See also <a href="#DimensionalData.Dimensions.label"><code>label</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/metadata.jl#L88-L96">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.lineshape-Tuple{Any, Any, Any, LineshapeComplexity}"><a class="docstring-binding" href="#NMRTools.NMRBase.lineshape-Tuple{Any, Any, Any, LineshapeComplexity}"><code>NMRTools.NMRBase.lineshape</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">lineshape(axis, δ, R2, complexity=RealLineshape())</code></pre><p>Return a simulated real- or complex-valued spectrum for a resonance with chemical shift <code>δ</code> and relaxation rate <code>R2</code>, using the parameters and window function associated with the specified axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/windows.jl#L164-L170">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.missingval"><a class="docstring-binding" href="#NMRTools.NMRBase.missingval"><code>NMRTools.NMRBase.missingval</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">missingval(x)</code></pre><p>Returns the value representing missing data in the dataset.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L27-L31">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.nucleus-Tuple{AbstractString}"><a class="docstring-binding" href="#NMRTools.NMRBase.nucleus-Tuple{AbstractString}"><code>NMRTools.NMRBase.nucleus</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">nucleus(label::AbstractString) -&gt; Nucleus</code></pre><p>Parse a nucleus from a string label, returning the corresponding <code>Nucleus</code> enum value.</p><p>The function accepts common NMR nucleus notation formats:</p><ul><li>Mass number followed by element symbol: &quot;1H&quot;, &quot;13C&quot;, &quot;15N&quot;, &quot;19F&quot;, &quot;31P&quot;</li><li>Element symbol followed by mass number: &quot;H1&quot;, &quot;C13&quot;, &quot;N15&quot;, &quot;F19&quot;, &quot;P31&quot;</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">nucleus(&quot;19F&quot;)  # returns F19
nucleus(&quot;1H&quot;)   # returns H1
nucleus(&quot;13C&quot;)  # returns C13
nucleus(&quot;15N&quot;)  # returns N15</code></pre><p>Throws <code>ArgumentError</code> if the nucleus is not recognised or not defined in the <code>Nucleus</code> enum.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nuclei.jl#L43-L61">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.pcls-Tuple{AbstractMatrix, AbstractVector}"><a class="docstring-binding" href="#NMRTools.NMRBase.pcls-Tuple{AbstractMatrix, AbstractVector}"><code>NMRTools.NMRBase.pcls</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">pcls(A, y)</code></pre><p>Compute the phase-constrained least squares solution:</p><p class="math-container">\[y = A x e^{i\phi}\]</p><p>following the algorithm of Bydder (2010) <em>Lin Alg &amp; Apps</em>.</p><p>Returns the tuple <code>(x, ϕ)</code>, containing the component amplitudes and global phase.</p><p>If passed a matrix <code>Y</code>, the function will return a matrix of component amplitudes and a list of global phases corresponding to each row.</p><p><strong>Arguments</strong></p><ul><li><code>A</code>: (m,n) complex matrix with component spectra</li><li><code>y</code>: (m,) complex vector containing the observed spectrum</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/pcls.jl#L1-L18">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.ppm-Tuple{FrequencyDimension}"><a class="docstring-binding" href="#NMRTools.NMRBase.ppm-Tuple{FrequencyDimension}"><code>NMRTools.NMRBase.ppm</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ppm(axis)</code></pre><p>Return the ppm values for points along a frequency axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L164-L168">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.ppm-Tuple{Union{Number, AbstractArray{&lt;:Number}}, FrequencyDimension}"><a class="docstring-binding" href="#NMRTools.NMRBase.ppm-Tuple{Union{Number, AbstractArray{&lt;:Number}}, FrequencyDimension}"><code>NMRTools.NMRBase.ppm</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ppm(offset, axis)</code></pre><p>Return the chemical shifts for a given offset or list of offsets along a frequency axis.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L178-L182">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.reference-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.reference-Tuple{Any, Any, Any}"><code>NMRTools.NMRBase.reference</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">reference(spec, dims, pairs; indirect=true, aqueous=:auto)</code></pre><p>Reference multiple spectrum dimensions simultaneously.</p><p><strong>Arguments</strong></p><ul><li><code>spec</code>: NMRData object to reference</li><li><code>dims</code>: Collection of dimensions to reference</li><li><code>pairs</code>: Collection of <code>old_shift =&gt; new_shift</code> pairs (same length as dims)</li><li><code>indirect=true</code>: If true, reference remaining frequency dimensions using Xi ratios</li><li><code>aqueous=:auto</code>: Solvent type for Xi ratio selection</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Reference both 1H and 15N dimensions
spec2 = reference(spec, [F1Dim, F2Dim], [4.7 =&gt; 4.8, 120.0 =&gt; 119.5])
spec2 = reference(spec, (H1, N15), (4.7 =&gt; 4.8, 120.0 =&gt; 119.5))</code></pre><p>See also <a href="#NMRTools.NMRBase.xi_ratio-Tuple{Nucleus}"><code>xi_ratio</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/reference.jl#L152-L172">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.reference-Tuple{Any, Any, Pair{&lt;:Number, &lt;:Number}}"><a class="docstring-binding" href="#NMRTools.NMRBase.reference-Tuple{Any, Any, Pair{&lt;:Number, &lt;:Number}}"><code>NMRTools.NMRBase.reference</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">reference(spec, dim, pair::Pair; indirect=true, aqueous=:auto)</code></pre><p>Reference a spectrum dimension by specifying an old and new chemical shift.</p><p><strong>Arguments</strong></p><ul><li><code>spec</code>: NMRData object to reference</li><li><code>dim</code>: Dimension to reference (Int, dimension type like <code>F1Dim</code>, or <code>Nucleus</code> like <code>H1</code>)</li><li><code>pair</code>: A pair <code>old_shift =&gt; new_shift</code> specifying the reference point</li><li><code>indirect=true</code>: If true, reference other frequency dimensions using Xi ratios</li><li><code>aqueous=:auto</code>: Solvent type for Xi ratio selection (<code>:auto</code>, <code>true</code>, or <code>false</code>)</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Reference 1H dimension
spec2 = reference(spec, 1, -0.12 =&gt; 0.0)
spec2 = reference(spec, F1Dim, -0.12 =&gt; 0.0)
spec2 = reference(spec, H1, -0.12 =&gt; 0.0)

# Reference without indirect referencing of other dimensions
spec2 = reference(spec, H1, -0.12 =&gt; 0.0; indirect=false)</code></pre><p>See also <a href="#NMRTools.NMRBase.shiftdim-Tuple{Any, Any, Any}"><code>shiftdim</code></a>, <a href="#NMRTools.NMRBase.xi_ratio-Tuple{Nucleus}"><code>xi_ratio</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/reference.jl#L110-L134">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.reference-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.reference-Tuple{Any}"><code>NMRTools.NMRBase.reference</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">reference(spec; indirect=true, aqueous=:auto, temperature=nothing)</code></pre><p>Reference a spectrum to water based on the sample temperature.</p><p>This method is used when no explicit reference shift is provided. It calculates the expected water chemical shift from the temperature and applies a correction relative to the Bruker default of 4.7 ppm.</p><p><strong>Arguments</strong></p><ul><li><code>spec</code>: NMRData object to reference</li><li><code>indirect=true</code>: If true, also reference heteronuclear dimensions using Xi ratios</li><li><code>temperature=nothing</code>: Temperature in Kelvin. If <code>nothing</code>, reads from metadata.</li></ul><p><strong>Returns</strong></p><ul><li>New NMRData object with referenced chemical shifts</li></ul><p>Only works for aqueous solvents (D2O, H2O, H2O+D2O).</p><p>See also <a href="#NMRTools.NMRBase.reference-Tuple{Any, Any, Any}"><code>reference(spec, dim, pair)</code></a>, <a href="#NMRTools.NMRBase.xi_ratio-Tuple{Nucleus}"><code>xi_ratio</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/reference.jl#L50-L70">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.referencepulse-Tuple{AbstractNMRData, Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.referencepulse-Tuple{AbstractNMRData, Any}"><code>NMRTools.NMRBase.referencepulse</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">referencepulse(spec, nucleus) -&gt; (pulse_length, power)</code></pre><p>Get the reference pulse calibration for a given nucleus from pulse programme annotations. Returns a tuple of (pulse_length, power) or <code>nothing</code> if not found.</p><p>The reference pulse is the calibrated 90° hard pulse used as the basis for all power  calculations on that channel.</p><p><strong>Arguments</strong></p><ul><li><code>spec</code>: NMRData object with annotations</li><li><code>nucleus</code>: Nucleus symbol or string (e.g., :19F, &quot;19F&quot;, :1H, &quot;1H&quot;)</li></ul><p><strong>Returns</strong></p><ul><li><code>(pulse_length, power)</code>: Tuple where pulse_length is in μs and power is a Power object</li><li><code>nothing</code>: If no reference pulse found for the specified nucleus</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; referencepulse(spec, &quot;19F&quot;)
(13.29, Power(-9.03 dB, 8.0 W))

julia&gt; referencepulse(spec, :1H)
(9.2, Power(-3.0 dB, 32.0 W))</code></pre><p>See also <a href="#NMRTools.NMRBase.annotations-Tuple{AbstractNMRData}"><code>annotations</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/metadata.jl#L297-L324">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.replacedimension-Tuple{NMRData, Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.replacedimension-Tuple{NMRData, Any, Any}"><code>NMRTools.NMRBase.replacedimension</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">replacedimension(nmrdata, olddimnumber, newdim)</code></pre><p>Return a new NMRData, in which the numbered axis is replaced by a new <code>Dimension</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L323-L327">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.resolvedim-Tuple{Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.resolvedim-Tuple{Any, Any}"><code>NMRTools.NMRBase.resolvedim</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">resolvedim(spec, dim_ref) -&gt; Int</code></pre><p>Resolve a dimension reference to a dimension index. Accepts:</p><ul><li><code>Int</code>: dimension index (returned as-is)</li><li>Dimension type (e.g., <code>F1Dim</code>): finds first matching dimension</li><li><code>Nucleus</code> (e.g., <code>H1</code>, <code>C13</code>): finds dimension with matching nucleus</li></ul><p>Returns the dimension index or throws an error if not found.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L223-L232">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.sample-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.sample-Tuple{Any}"><code>NMRTools.NMRBase.sample</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">sample(nmrdata)
sample(nmrdata, keys...)</code></pre><p>Return the sample metadata associated with the NMRData object, or <code>nothing</code> if not available. Sample metadata follows the schema defined at https://github.com/waudbygroup/nmr-sample-schema.</p><p>When keys are provided, navigates nested dictionaries using the given keys. Keys can be strings or symbols and are automatically converted to lowercase strings for consistent access.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; sample(spec)
Dict{String, Any} with 6 entries:
  &quot;nmr_tube&quot; =&gt; Dict{String, Any}(&quot;diameter&quot;=&gt;&quot;5 mm&quot;, &quot;type&quot;=&gt;&quot;regular&quot;, &quot;sample_volume_uL&quot;=&gt;600)
  &quot;buffer&quot;   =&gt; Dict{String, Any}(&quot;solvent&quot;=&gt;&quot;10% D2O&quot;, &quot;reference_unit&quot;=&gt;&quot;%w/v&quot;, &quot;chemical_shift_reference&quot;=&gt;&quot;none&quot;)
  [...]

julia&gt; sample(spec, &quot;notes&quot;)
&quot;here&#39;s a note!&quot;

julia&gt; sample(spec, :people, :users)
1-element Vector{Any}:
 &quot;Chris&quot;

julia&gt; sample(spec, &quot;sample&quot;, &quot;components&quot;)
2-element Vector{Any}:
 Dict{String, Any}(&quot;name&quot; =&gt; &quot;HEWL&quot;, &quot;isotopic_labelling&quot; =&gt; &quot;unlabelled&quot;, &quot;unit&quot; =&gt; &quot;mM&quot;, &quot;concentration&quot; =&gt; 10)
 Dict{String, Any}(&quot;name&quot; =&gt; &quot;gadodiamide&quot;, &quot;isotopic_labelling&quot; =&gt; &quot;unlabelled&quot;, &quot;unit&quot; =&gt; &quot;mM&quot;, &quot;concentration&quot; =&gt; 1)</code></pre><p>See also <a href="#DimensionalData.Dimensions.Lookups.metadata"><code>metadata</code></a>, <a href="#NMRTools.NMRBase.hassample-Tuple{Any}"><code>hassample</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/metadata.jl#L229-L261">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.scale-Tuple{AbstractNMRData}"><a class="docstring-binding" href="#NMRTools.NMRBase.scale-Tuple{AbstractNMRData}"><code>NMRTools.NMRBase.scale</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">scale(d::AbstractNMRData)</code></pre><p>Return a scaling factor for the data combining the number of scans, receiver gain, and, if specified, the sample concentration.</p><p class="math-container">\[\mathrm{scale} = \mathrm{ns} \cdot \mathrm{rg} \cdot \mathrm{conc}\]</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L159-L167">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.setgradientlist-Tuple{}"><a class="docstring-binding" href="#NMRTools.NMRBase.setgradientlist-Tuple{}"><code>NMRTools.NMRBase.setgradientlist</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">setgradientlist(A::NMRData, [dimnumber], relativegradientlist, Gmax=nothing)</code></pre><p>Return a new NMRData with a gradient axis containing the passed values. If no maximum strength is specified, a default gradient strength of 0.55 T m⁻¹ will be set, but a warning raised for the user.</p><p>If a dimension number is specified, that dimension will be replaced. If not, the function will search for a unique non-frequency dimension, and replace that. If there are multiple non-frequency dimensions, the dimension number must be specified explicitly, and the function will throw an error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L246-L255">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.setkinetictimes-Tuple{}"><a class="docstring-binding" href="#NMRTools.NMRBase.setkinetictimes-Tuple{}"><code>NMRTools.NMRBase.setkinetictimes</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">setkinetictimes(A::NMRData, [dimnumber], tvals, units=&quot;&quot;)</code></pre><p>Return a new NMRData with a kinetic time axis containing the passed values (and optionally, units). If a dimension number is specified, that dimension will be replaced with a <code>TkinDim</code>. If not, the function will search for a unique non-frequency dimension, and replace that. If there are multiple non-frequency dimensions, the dimension number must be specified explicitly, and the function will throw an error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L178-L186">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.setoffsets"><a class="docstring-binding" href="#NMRTools.NMRBase.setoffsets"><code>NMRTools.NMRBase.setoffsets</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">setoffsets(A::NMRData, dimnumber, offsets, units=&quot;ppm&quot;)</code></pre><p>Return a new NMRData with an offset axis (for CEST, R1rho off-resonance, etc.). Dimension number must be specified explicitly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L295-L300">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.setrelaxtimes-Tuple{}"><a class="docstring-binding" href="#NMRTools.NMRBase.setrelaxtimes-Tuple{}"><code>NMRTools.NMRBase.setrelaxtimes</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">setrelaxtimes(A::NMRData, [dimnumber], tvals, units=&quot;&quot;)</code></pre><p>Return a new NMRData with a relaxation time axis containing the passed values (and optionally, units). If a dimension number is specified, that dimension will be replaced with a <code>TrelaxDim</code>. If not, the function will search for a unique non-frequency dimension, and replace that. If there are multiple non-frequency dimensions, the dimension number must be specified explicitly, and the function will throw an error.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L212-L220">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.setspinlockfield"><a class="docstring-binding" href="#NMRTools.NMRBase.setspinlockfield"><code>NMRTools.NMRBase.setspinlockfield</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">setspinlockfield(A::NMRData, dimnumber, fields, units=&quot;Hz&quot;)</code></pre><p>Return a new NMRData with a spinlock field strength axis. Dimension number must be specified explicitly.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/nmrdata.jl#L309-L314">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.shiftdim-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.shiftdim-Tuple{Any, Any, Any}"><code>NMRTools.NMRBase.shiftdim</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">shiftdim(data::NMRData, dim_ref, offset)</code></pre><p>Add an offset to a frequency dimension in an NMRData object. The dimension can be specified as a numerical index, a dimension type like <code>F1Dim</code>, or a <code>Nucleus</code> enum (e.g., <code>H1</code>, <code>C13</code>).</p><p>The metadata is copied using <code>replacedimension</code>, and an entry is added or updated in the dimension metadata to record the offset change.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">spec2 = shiftdim(spec, 1, 0.5)       # Using dimension index
spec2 = shiftdim(spec, F1Dim, 0.5)   # Using dimension type
spec2 = shiftdim(spec, H1, 0.5)      # Using nucleus</code></pre><p>See also <a href="#NMRTools.NMRBase.reference-Tuple{Any, Any, Any}"><code>reference</code></a>, <a href="#NMRTools.NMRBase.finddim-Tuple{Any, Nucleus}"><code>finddim</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/dimensions.jl#L255-L273">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.spin-Tuple{Nucleus}"><a class="docstring-binding" href="#NMRTools.NMRBase.spin-Tuple{Nucleus}"><code>NMRTools.NMRBase.spin</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">spin(n::Nucleus)</code></pre><p>Return the spin quantum number of nucleus <code>n</code>, or <code>nothing</code> if not defined.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; spin(H1)
1//2</code></pre><p>See also <a href="#NMRTools.NMRBase.Coherence"><code>Coherence</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/isotopedata.jl#L1-L13">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.watershift-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRBase.watershift-Tuple{Any}"><code>NMRTools.NMRBase.watershift</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">watershift(temperature_K)</code></pre><p>Calculate the chemical shift of water at a given temperature using the empirical formula:</p><pre><code class="language-julia hljs">δ(H₂O) = 7.83 − T / 96.9</code></pre><p>where T is the temperature in Kelvin.</p><p><strong>Arguments</strong></p><ul><li><code>temperature_K</code>: Temperature in Kelvin</li></ul><p><strong>Returns</strong></p><ul><li>Chemical shift of water in ppm</li></ul><p><strong>References</strong></p><p>Bruker uses 4.7 ppm as the default water reference when locking (with SR=0).</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/reference.jl#L30-L47">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.watts-Tuple{Power}"><a class="docstring-binding" href="#NMRTools.NMRBase.watts-Tuple{Power}"><code>NMRTools.NMRBase.watts</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">watts(p::Power)</code></pre><p>Get the power level in Watts.</p><p><strong>Example</strong></p><pre><code class="language-julia hljs">p = Power(20.0, :dB)
watts(p)  # 0.01</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/power.jl#L80-L90">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.xi_ratio-Tuple{Nucleus}"><a class="docstring-binding" href="#NMRTools.NMRBase.xi_ratio-Tuple{Nucleus}"><code>NMRTools.NMRBase.xi_ratio</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">xi_ratio(n::Nucleus; aqueous=true)</code></pre><p>Return the Xi ratio for nucleus <code>n</code>, used for indirect chemical shift referencing.</p><p>The Xi ratio is defined as the ratio of the reference frequency of nucleus X to the 1H reference frequency (TMS or DSS). This enables indirect referencing of heteronuclear dimensions from a single 1H reference.</p><p><strong>Arguments</strong></p><ul><li><code>n::Nucleus</code>: The nucleus for which to retrieve the Xi ratio</li><li><code>aqueous=true</code>: If <code>true</code>, use DSS-based ratios (aqueous solutions).                 If <code>false</code>, use TMS-based ratios (organic solvents).</li></ul><p><strong>Returns</strong></p><ul><li>The Xi ratio as a Float64, or <code>nothing</code> if not defined for this nucleus.</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; xi_ratio(C13)
0.25144953

julia&gt; xi_ratio(C13; aqueous=true)
0.25144953

julia&gt; xi_ratio(C13; aqueous=false)
0.2514502

julia&gt; xi_ratio(N15)
0.101329118</code></pre><p><strong>References</strong></p><ul><li>Markley et al., 1998, Pure Appl. Chem. 70, 117-142</li><li>Wishart et al., 1995, J. Biomol. NMR 6, 135-140</li><li>Maurer and Kalbitzer, 1996, J. Magn. Reson. B113, 177-178</li><li>IUPAC recommendations 2001/2008</li></ul><p>See also <a href="#NMRTools.NMRBase.reference-Tuple{Any, Any, Any}"><code>reference</code></a>, <a href="#NMRTools.NMRBase.Nucleus"><code>Nucleus</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRBase/isotopedata.jl#L103-L142">source</a></section></details></article><h2 id="NMRIO"><a class="docs-heading-anchor" href="#NMRIO">NMRIO</a><a id="NMRIO-1"></a><a class="docs-heading-anchor-permalink" href="#NMRIO" title="Permalink"></a></h2><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.FQList"><a class="docstring-binding" href="#NMRTools.NMRIO.FQList"><code>NMRTools.NMRIO.FQList</code></a> — <span class="docstring-category">Type</span></summary><section><div><pre><code class="language-julia hljs">FQList(values, unit::Symbol, relative::Bool)</code></pre><p>Represents a frequency list. <code>unit</code> can be <code>:Hz</code> or <code>:ppm</code>, and <code>relative</code> indicates whether the frequency is given relative to SFO (true) or BF (false).</p><p>Raw values can be extracted using the <code>data</code> function, or (better) as absolute chemical shifts (in ppm) or relative offsets (in Hz) using <a href="#NMRTools.NMRBase.ppm-Tuple{FrequencyDimension}"><code>ppm</code></a> and <a href="#NMRTools.NMRBase.hz-Tuple{FrequencyDimension}"><code>hz</code></a> functions.</p><p>See also: <a href="#NMRTools.NMRBase.ppm-Tuple{FrequencyDimension}"><code>ppm</code></a>, <a href="#NMRTools.NMRBase.hz-Tuple{FrequencyDimension}"><code>hz</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/lists.jl#L1-L12">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.hz-Tuple{FQList, FrequencyDimension}"><a class="docstring-binding" href="#NMRTools.NMRBase.hz-Tuple{FQList, FrequencyDimension}"><code>NMRTools.NMRBase.hz</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">hz(f::FQList, ax::FrequencyDimension)</code></pre><p>Return frequency list values as offsets relative to the spectrometer frequency, in Hz.</p><p>See also: <a href="#NMRTools.NMRBase.ppm-Tuple{FrequencyDimension}"><code>ppm</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/lists.jl#L44-L50">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRBase.ppm-Tuple{FQList, FrequencyDimension}"><a class="docstring-binding" href="#NMRTools.NMRBase.ppm-Tuple{FQList, FrequencyDimension}"><code>NMRTools.NMRBase.ppm</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">ppm(f::FQList, ax::FrequencyDimension)</code></pre><p>Return frequency list values in ppm (in absolute terms, i.e. relative to 0 ppm).</p><p>See also: <a href="#NMRTools.NMRBase.hz-Tuple{FrequencyDimension}"><code>hz</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/lists.jl#L21-L27">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO._apply_dimension_annotations-Tuple{NMRData, Dict}"><a class="docstring-binding" href="#NMRTools.NMRIO._apply_dimension_annotations-Tuple{NMRData, Dict}"><code>NMRTools.NMRIO._apply_dimension_annotations</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_apply_dimension_annotations(spec::NMRData, ann::Dict) -&gt; NMRData</code></pre><p>Apply semantic dimension types based on the dimensions array in annotations. The dimensions array provides explicit ordering - index i in the array corresponds to dimension i in the data. Returns new NMRData with updated dimensions.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L428-L434">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO._find_dimension_path"><a class="docstring-binding" href="#NMRTools.NMRIO._find_dimension_path"><code>NMRTools.NMRIO._find_dimension_path</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">_find_dimension_path(key, annotations, prefix=&quot;&quot;)</code></pre><p>Find the dotted path to a key in the annotations dictionary. Returns the path that should match entries in the dimensions array.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L400-L405">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO._find_frequency_dim_for_channel-Tuple{Any, AbstractString}"><a class="docstring-binding" href="#NMRTools.NMRIO._find_frequency_dim_for_channel-Tuple{Any, AbstractString}"><code>NMRTools.NMRIO._find_frequency_dim_for_channel</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_find_frequency_dim_for_channel(spec, channel) -&gt; Union{Int, Nothing}</code></pre><p>Find the frequency dimension index that corresponds to the given channel. Channel can be &quot;f1&quot;, &quot;f2&quot;, etc. or a nucleus string like &quot;1H&quot;, &quot;19F&quot;.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L582-L587">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO._is_programmatic_pattern-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO._is_programmatic_pattern-Tuple{Any}"><code>NMRTools.NMRIO._is_programmatic_pattern</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_is_programmatic_pattern(value) -&gt; Bool</code></pre><p>Check if a value is a programmatic list pattern. Must be a Dict with either:</p><ul><li>&quot;type&quot; key and either &quot;step&quot; or &quot;end&quot; key (linear/log patterns)</li><li>&quot;counter&quot; and &quot;scale&quot; keys (counter-based pattern)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L288-L295">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO._resolve_parameter-Tuple{String, NMRData}"><a class="docstring-binding" href="#NMRTools.NMRIO._resolve_parameter-Tuple{String, NMRData}"><code>NMRTools.NMRIO._resolve_parameter</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_resolve_parameter(param_str::String, spec::NMRData) -&gt; Union{Nothing, Any}</code></pre><p>Attempt to resolve a parameter string using the acqus data. Returns the resolved value or nothing if not a recognized parameter.</p><p>Handles parameter patterns (case-insensitive):</p><ul><li>Indexed parameters: p1, pl1, d20, cnst8, gpz6, etc.</li><li>Nucleus assignments: f1, f2, f3, f4</li><li>Any other parameter names that exist in acqus (including lists)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L149-L159">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO._resolve_programmatic_pattern-Tuple{String, Dict, Dict, NMRData, Vector}"><a class="docstring-binding" href="#NMRTools.NMRIO._resolve_programmatic_pattern-Tuple{String, Dict, Dict, NMRData, Vector}"><code>NMRTools.NMRIO._resolve_programmatic_pattern</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_resolve_programmatic_pattern(key, pattern, root_annotations, spec, dimensions)</code></pre><p>Resolve a single programmatic list pattern to a vector.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L314-L318">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO._resolve_programmatic_recursive!-Tuple{Dict, Dict, NMRData, Vector}"><a class="docstring-binding" href="#NMRTools.NMRIO._resolve_programmatic_recursive!-Tuple{Dict, Dict, NMRData, Vector}"><code>NMRTools.NMRIO._resolve_programmatic_recursive!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">_resolve_programmatic_recursive!(obj, root_annotations, spec, dimensions)</code></pre><p>Recursively traverse annotations to find and resolve programmatic list patterns.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L252-L256">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.addsampleinfo-Tuple{NMRData}"><a class="docstring-binding" href="#NMRTools.NMRIO.addsampleinfo-Tuple{NMRData}"><code>NMRTools.NMRIO.addsampleinfo</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">addsampleinfo(expt::NMRData) -&gt; NMRData</code></pre><p>Search for and load sample metadata from JSON files in the experiment folder. Returns the NMRData object with sample information added to metadata.</p><p>Sample files are JSON files following the schema at https://github.com/waudbygroup/nmr-sample-schema. The function matches samples based on creation/ejection timestamps against the experiment date.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">spec = loadnmr(&quot;experiment/1/pdata/1&quot;)
spec = addsampleinfo(spec)  # Load matching sample metadata
sample(spec, &quot;notes&quot;)  # Access sample information</code></pre><p>See also <a href="#NMRTools.NMRBase.sample-Tuple{Any}"><code>sample</code></a>, <a href="#NMRTools.NMRBase.hassample-Tuple{Any}"><code>hassample</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/samples.jl#L1-L18">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.annotate-Tuple{NMRData}"><a class="docstring-binding" href="#NMRTools.NMRIO.annotate-Tuple{NMRData}"><code>NMRTools.NMRIO.annotate</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">annotate(spec::NMRData) -&gt; NMRData</code></pre><p>Parse pulse programme annotations and store them in the spectrum metadata. Returns the NMRData object with annotations added to metadata.</p><p>Annotations are embedded within pulse programme comments marked with <code>;@</code> at the start of lines, following YAML format with schema version 0.0.2.</p><p><strong>Examples</strong></p><pre><code class="language-julia hljs">spec = loadnmr(&quot;experiment/1/pdata/1&quot;)
spec = annotate(spec)  # Parse and store annotations
annotations(spec, &quot;title&quot;)  # Access parsed annotations</code></pre><p>See also <a href="#NMRTools.NMRBase.annotations-Tuple{AbstractNMRData}"><code>annotations</code></a>, <a href="#NMRTools.NMRBase.hasannotations-Tuple{Any}"><code>hasannotations</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L8-L25">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.exampledata-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.exampledata-Tuple{Any}"><code>NMRTools.NMRIO.exampledata</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">exampledata(name::String)</code></pre><p>Load example NMR data provided with NMRTools.jl</p><p><strong>Arguments</strong></p><ul><li>name::String : Name of example data set to load. Call exampledata() to list available data.</li></ul><p><strong>Returns</strong></p><ul><li>NMR data object(s) corresponding to the requested example data set.</li></ul><p><strong>Example</strong></p><pre><code class="language-julia hljs">data = exampledata(&quot;1D_19F_titration&quot;)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/exampledata.jl#L19-L34">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.getformat-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.getformat-Tuple{Any}"><code>NMRTools.NMRIO.getformat</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">getformat(filename)</code></pre><p>Take an input filename and return either :ucsf, :nmrpipe, :pdata (bruker processed), or :unknown after checking whether the filename matches any known format.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/loadnmr.jl#L85-L90">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.loadnmr-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.loadnmr-Tuple{Any}"><code>NMRTools.NMRIO.loadnmr</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">loadnmr(filename, experimentfolder=nothing)</code></pre><p>Main function for loading NMR data. <code>experimentfolder</code> contains the path to an experiment directory, for identification of metadata, if the filename is not directly within an experiment.</p><p>Returns an <code>NMRData</code> structure, or throws an <code>NMRToolsError</code> is there is a problem.</p><p><strong>Examples</strong></p><p>nmrPipe import:</p><pre><code class="language-julia hljs">loadnmr(&quot;exampledata/1D_1H/1/test.ft1&quot;);
loadnmr(&quot;exampledata/1D_19F/1/test.ft1&quot;);
loadnmr(&quot;exampledata/2D_HN/1/test.ft2&quot;);
loadnmr(&quot;exampledata/pseudo2D_XSTE/1/test.ft1&quot;);
loadnmr(&quot;exampledata/pseudo3D_HN_R2/1/ft/test%03d.ft2&quot;);</code></pre><p>Bruker pdata import:</p><pre><code class="language-julia hljs">loadnmr(&quot;exampledata/1D_19F/1&quot;);
loadnmr(&quot;exampledata/1D_19F/1/&quot;);
loadnmr(&quot;exampledata/1D_19F/1/pdata/1&quot;);
loadnmr(&quot;exampledata/1D_19F/1/pdata/1/&quot;);</code></pre><p>ucsf (Sparky) import:</p><pre><code class="language-julia hljs">loadnmr(&quot;exampledata/2D_HN/1/hmqc.ucsf&quot;);
loadnmr(&quot;exampledata/1D_19F/1/&quot;);
loadnmr(&quot;exampledata/1D_19F/1/pdata/1&quot;);
loadnmr(&quot;exampledata/1D_19F/1/pdata/1/&quot;);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/loadnmr.jl#L1-L38">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.loadnmrpipe1d-Tuple{Any, Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.loadnmrpipe1d-Tuple{Any, Any, Any}"><code>NMRTools.NMRIO.loadnmrpipe1d</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">loadnmrpipe1d(filename, md, mdax)</code></pre><p>Return an NMRData array containing spectrum and associated metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/nmrpipe.jl#L220-L224">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.loadnmrpipe2d-Tuple{String, Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.loadnmrpipe2d-Tuple{String, Any, Any}"><code>NMRTools.NMRIO.loadnmrpipe2d</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">loadnmrpipe2d(filename, md, mdax)</code></pre><p>Return NMRData containing spectrum and associated metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/nmrpipe.jl#L245-L249">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.loadnmrpipe3d-Tuple{String, Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.loadnmrpipe3d-Tuple{String, Any, Any}"><code>NMRTools.NMRIO.loadnmrpipe3d</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">loadnmrpipe3d(filename, md, mdax)</code></pre><p>Return NMRData containing spectrum and associated metadata.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/nmrpipe.jl#L284-L288">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.loadpdata"><a class="docstring-binding" href="#NMRTools.NMRIO.loadpdata"><code>NMRTools.NMRIO.loadpdata</code></a> — <span class="docstring-category">Function</span></summary><section><div><pre><code class="language-julia hljs">loadpdata(filename, allcomponents=false)</code></pre><p>Load processed Bruker NMR data from a pdata folder.</p><p><strong>Arguments</strong></p><ul><li><code>filename</code>: Path to a pdata directory or a file within it</li><li><code>allcomponents</code>: If <code>true</code>, returns complex (1D) or multicomplex (2D) data with all components. For 2D data, returns <code>Multicomplex</code> numbers with components ordered as <code>rr + ri*im1 + ir*im2 + ii*im1*im2</code>. Default is <code>false</code> (returns real data only).</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/bruker.jl#L1-L11">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.parse_annotations-Tuple{String}"><a class="docstring-binding" href="#NMRTools.NMRIO.parse_annotations-Tuple{String}"><code>NMRTools.NMRIO.parse_annotations</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">parse_annotations(content::String) -&gt; Dict{String, Any}</code></pre><p>Parse pulse programme annotations from content string. Annotations are embedded  within pulse programme comments marked with <code>;@</code> at the start of lines.</p><p>The function:</p><ol><li>Filters out lines starting with <code>;@</code></li><li>Strips the <code>;@</code> prefix from each line</li><li>Parses the resulting YAML document into a dictionary</li></ol></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L61-L71">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.parsefqlist-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.parsefqlist-Tuple{Any}"><code>NMRTools.NMRIO.parsefqlist</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">parsefqlist(lines)</code></pre><p>Return contents of the specified fqlist.</p><p>fqlists can have several different formats:</p><p><strong>first line   | reference   | unit</strong></p><pre><code class="language-julia hljs">         | sfo         | Hz</code></pre><p>sfo hz       | sfo         | Hz sfo ppm      | sfo         | ppm bf hz        | bf          | Hz bf ppm       | bf          | ppm p            | sfo         | ppm P            | bf          | ppm</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/acqus.jl#L519-L536">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.parsenmrpipeheader-Tuple{Vector{Float32}}"><a class="docstring-binding" href="#NMRTools.NMRIO.parsenmrpipeheader-Tuple{Vector{Float32}}"><code>NMRTools.NMRIO.parsenmrpipeheader</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">parsenmrpipeheader(header)</code></pre><p>Pass a 512 x 4 byte array containing an nmrPipe header file, and returns dictionaries of metadata. The nmrPipe header format is defined in <code>fdatap.h</code>.</p><p><strong>Return values</strong></p><ul><li><code>md</code>: dictionary of spectrum metadata</li><li><code>mdax</code>: array of dictionaries containing axis metadata</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs">md, mdax = parsenmrpipeheader(header)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/nmrpipe.jl#L44-L58">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.parsepulseprogramlists!-Tuple{Any, Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.parsepulseprogramlists!-Tuple{Any, Any}"><code>NMRTools.NMRIO.parsepulseprogramlists!</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>Example lines to parse: define list&lt;gradient&gt; EA=&lt;EA&gt; define list&lt;gradient&gt; EA3 = { 1.0000 0.8750 } define list&lt;pulse&gt; taulist = &lt;<span>$</span>VPLIST&gt; define list&lt;power&gt; powerlist = &lt;<span>$</span>VALIST&gt; define list&lt;gradient&gt; diff=&lt;Difframp&gt; define list&lt;frequency&gt; F19sat = &lt;<span>$</span>FQ1LIST&gt;</p><p>NB gradient files have weird syntax!!</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/acqus.jl#L244-L254">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.parseucsfaxisheader-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.parseucsfaxisheader-Tuple{Any}"><code>NMRTools.NMRIO.parseucsfaxisheader</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>parse ucsf axis header into a dictionary</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/ucsf.jl#L73">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.parseucsfheader-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.parseucsfheader-Tuple{Any}"><code>NMRTools.NMRIO.parseucsfheader</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>parse ucsf file header into a dictionary</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/ucsf.jl#L43">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.parsevalist-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.parsevalist-Tuple{Any}"><code>NMRTools.NMRIO.parsevalist</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>return valist contents as Powers</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/acqus.jl#L498">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.parsevdlist-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.parsevdlist-Tuple{Any}"><code>NMRTools.NMRIO.parsevdlist</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>return vdlist contents in seconds</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/acqus.jl#L462">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.parsevplist-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.parsevplist-Tuple{Any}"><code>NMRTools.NMRIO.parsevplist</code></a> — <span class="docstring-category">Method</span></summary><section><div><p>return vplist contents in seconds</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/acqus.jl#L477">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.replacedurations!-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.replacedurations!-Tuple{Any}"><code>NMRTools.NMRIO.replacedurations!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">replacedurations!(dic)</code></pre><p>Ensure all durations in the acqus dictionary are in seconds.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/acqus.jl#L135-L139">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.replacepowers!-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.replacepowers!-Tuple{Any}"><code>NMRTools.NMRIO.replacepowers!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">replacepowers!(dic)</code></pre><p>Ensure all powers in the acqus dictionary are stored as Power types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/acqus.jl#L117-L121">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.resolve_parameter_references!-Tuple{Dict, NMRData}"><a class="docstring-binding" href="#NMRTools.NMRIO.resolve_parameter_references!-Tuple{Dict, NMRData}"><code>NMRTools.NMRIO.resolve_parameter_references!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">resolve_parameter_references!(annotations::Dict{String, Any}, spec::NMRData)</code></pre><p>Recursively traverse the annotations dictionary and resolve parameter references. References are bare parameter names like p1, pl1, d20, VALIST, etc.</p><p>Parameters are resolved using the acqus() function to get values from the acqus file.</p><p><strong>Arguments</strong></p><ul><li><code>annotations::Dict{String, Any}</code>: Annotations dictionary to modify in-place</li><li><code>spec::NMRData</code>: NMRData object containing acqus metadata</li></ul><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Before resolution: {&quot;pulse&quot;: &quot;p1&quot;, &quot;power&quot;: &quot;pl1&quot;, &quot;duration&quot;: &quot;VDLIST&quot;}
# After resolution: {&quot;pulse&quot;: 9.2, &quot;power&quot;: Power(...), &quot;duration&quot;: [0.01, 0.02, ...]}</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L101-L118">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.resolve_programmatic_lists!-Tuple{Dict, NMRData}"><a class="docstring-binding" href="#NMRTools.NMRIO.resolve_programmatic_lists!-Tuple{Dict, NMRData}"><code>NMRTools.NMRIO.resolve_programmatic_lists!</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">resolve_programmatic_lists!(annotations::Dict{String, Any}, spec::NMRData)</code></pre><p>Resolve programmatic list patterns in annotations to actual vectors.</p><p>Programmatic lists are specified as dictionaries with one of two patterns:</p><p><strong>Pattern 1: Type-based (linear/log)</strong></p><ul><li><code>type</code>: &quot;linear&quot; or &quot;log&quot; (logarithmic)</li><li><code>start</code>: starting value</li><li><code>step</code>: step size (for linear with start/step)</li><li><code>end</code>: ending value (for linear or log with start/end)</li></ul><p><strong>Pattern 2: Counter-based</strong></p><ul><li><code>counter</code>: array of values (typically integers from a loop counter)</li><li><code>scale</code>: scale factor to multiply each counter element by</li></ul><p>For type-based patterns, the function:</p><ol><li>Identifies fields containing programmatic list patterns ({type, start, step/end})</li><li>Finds the dimension number for that field from the dimensions annotation</li><li>Gets the number of points in that dimension</li><li>Replaces the pattern with a correctly sized vector</li></ol><p>For counter-based patterns, the function:</p><ol><li>Multiplies each element of the counter array by the scale value</li><li>Returns the resulting vector</li></ol><p><strong>Examples</strong></p><pre><code class="language-julia hljs"># Linear spacing with start/step
# {type: linear, start: p9, step: p9} with 10 points → [p9, 2*p9, 3*p9, ...]

# Linear spacing with start/end
# {type: linear, start: 0.001, end: 0.1} with 10 points → [0.001, 0.012, ..., 0.1]

# Logarithmic spacing with start/end
# {type: log, start: 0.001, end: 0.1} with 10 points → [0.001, 0.0016, ..., 0.1]

# Counter-based pattern
# {counter: [0, 1, 2, 3], scale: 0.01} → [0.0, 0.01, 0.02, 0.03]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/annotation.jl#L198-L239">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.sumexpts-Tuple"><a class="docstring-binding" href="#NMRTools.NMRIO.sumexpts-Tuple"><code>NMRTools.NMRIO.sumexpts</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">sumexpts(inputexpts...; out, weights=[])</code></pre><p>Sum a collection of Bruker NMR experiments, with optional weighting factors. Data will be truncated to fit the shortest data file.</p><p><strong>Arguments</strong></p><ul><li><code>inputexpts...</code>: Input experiment names (strings or integers)</li><li><code>out</code>: Output experiment name (string or integer)</li><li><code>weights</code>: Optional vector of weights for each input experiment</li></ul><p><strong>Details</strong></p><ul><li>Experiment names should be either strings with filenames or integers converted to strings</li><li>If weights are supplied, the length must match the number of input experiments</li><li>First input experiment is used as a template for the output experiment</li><li>For 1D experiments, &#39;fid&#39; files are added; for nD experiments, &#39;ser&#39; files are added</li><li>Processed data files in pdata/1 are removed, other pdata subdirectories are deleted</li><li>Updates the title file with information about the summed experiments</li><li>Updates the number of scans in the acqus file to be the sum of individual experiments</li><li>Prompts before overwriting any existing experiment</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/sumexpts.jl#L3-L23">source</a></section></details></article><article><details class="docstring" open="true"><summary id="NMRTools.NMRIO.topspinversion-Tuple{Any}"><a class="docstring-binding" href="#NMRTools.NMRIO.topspinversion-Tuple{Any}"><code>NMRTools.NMRIO.topspinversion</code></a> — <span class="docstring-category">Method</span></summary><section><div><pre><code class="language-julia hljs">parsetopspinversion(acqusfilename)</code></pre><p>Return the TopSpin version as a VersionNumber (e.g. v&quot;4.2.0&quot;).</p><p>This is obtained from the end of the first line of the acqus file, e.g.</p><pre><code class="language-julia hljs">##TITLE= Parameter file, TopSpin 4.2.0
##TITLE= Parameter file, TOPSPIN		Version 2.1
##TITLE= Parameter file, TOPSPIN		Version 3.2</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/waudbygroup/NMRTools.jl/blob/260d2e2230ad183c0c893e26fa5ce609a23a7054/src/NMRIO/acqus.jl#L171-L182">source</a></section></details></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../ref-coherences/">« Coherences and isotope data</a><a class="docs-footer-nextpage" href="../indexes/">Index »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 27 January 2026 13:40">Tuesday 27 January 2026</span>. Using Julia version 1.12.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
